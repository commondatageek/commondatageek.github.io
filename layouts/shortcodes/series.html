{{/* https://www.kiroule.com/article/add-series-taxonomy-to-hugo-theme/ with some modifications from me */}}

{{ $series_text := $.Page.Params.series }}
{{ $series_name := $series_text | urlize }}
{{ $series_info := .Get 0 }}

{{ range $key, $taxonomy := .Site.Taxonomies.series }}
    {{ if eq $key $series_name }}
    <section class="section">
        <aside class="message is-info is-light">
            <div class="message-header">{{ $series_text }}</div>
            <div class="message-body">
                {{ partial (printf "series/%s" $series_info) }}
                <ul>
                    {{ range $taxonomy.Pages.ByWeight }}
                    <li hugo-nav="{{ .RelPermalink }}">
                        <a href="{{ .Permalink }}">{{ .LinkTitle }}</a>
                    </li>
                    {{ end }}
                </ul>
            </div>
        </aside>
    </section>
    {{ end }}
{{ end }}